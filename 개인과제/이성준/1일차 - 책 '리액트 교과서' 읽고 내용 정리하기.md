# 1일차 : 책 '리액트 교과서' 읽고 내용 정리하기

## 1장 : React 살펴보기

### 리액트의 등장배경
React는 UI 컴포넌트 라이브러리이다. 구체적으로는 다른 템플릿 언어가 아니라 자바스크립트를 이용하여 만든 라이브러리로, 이러한 특성 때문에 코드를 재사용할 때 템플릿 언어와는 달리 컴포넌트를 호출하는 것만으로 재사용할 수 있다. React UI 컴포넌트는 매우 독립적이며 특정 관심사에 집중된 기능 블록이다. 이는 다시 말해 시각적 표현과 동작을 구현하는 논리가 담겨있다는 것이다. 
<br/>
React의 공식 웹사이트에는 다음과 같은 설명이 담겨있다. "우리는 한 가지 문제를 해결하기 위해 React를 만들었습니다. 우리가 해결하고자 한 문제는 시간에 따라 변화하는 데이터를 다루는 거대한 어플리케이션의 개발입니다". 이는 입력 자동완성을 구현하기 위해 비동기적인 데이터의 로드가 기존에는 DOM 요소를 복잡하게 재사용하는 방법보다는 아예 DOM 트리를 새롭게 만드는 방법을 채택했으나, 이것의 속도가 빠르지만 DOM을 렌더링하는 과정에서 병목현상이 발생하는 단점이 존재하였다. 이를 React에서는 자체 알고리즘으로 개선하여 현재는 기존에 AngularJS나 Backbone 엔진을 통해 개발한 웹사이트들도 React를 채택하고 있다.
<br/>
### 리액트의 장점
React는 기존의 다른 프레임워크들이 가진 단점과 비교했을 때, **단순한 앱 개발, 빠른 UI, 적은 코드**라는 장점을 가진다.
<br/>
1. 간결성
다른 프레임워크와 달리 간결한 문법을 가지고 있다. 이는 React의 경우 뷰를 자동으로 갱신하는 선언형 스타일을 채택한점, 컴포넌트에 특정 도메인의 언어(domain-specific language, DSL)가 아닌 순수 자바스크립트만을 사용한다. 그 외에 한가지 기능을 개발하기 위해 기술을 분리하지 않다. 또한 같은 기능을 크로스 브라우저에서 실행했을 때 기존에는 각기 다른 메소드와 인터페이스, 이벤트 핸들링을 정규화했다.

- 선언형 스타일 채택
일반적으로 위에서 아래로 흐름이 이어지는 명령형과는 달리 실행 결과가 어떻게 되야할지를 작성하는 코드이다. 예를 들어
<br/>
```
	var arr = [1,2,3,4,5], arr2 = []
	for(var i = 0; i < arr.length; i++){
		arr2[i] = arr[i]*2
	}
	console.log(arr2)
```
<br/>
와 같은 코드를 map 메서드를 이용하여 선언형으로 바꿀 수 있다.
<br/>
```
	var = arr[1,2,3,4,5], arr2 = arr.map(function(v, i){ return v*2 })
	console.log(arr2)
```
위와 같이 JS코드를 선언형으로 작성할 수 있는데, React도 마찬가지로 코드를 선언형 스타일로 작성한다. 이렇게 한다면 만약 뷰에 변경이 발생한다면 React가 알아서 이를 갱신한다. 이를 내부 상태화라고 한다.
<br/>
React의 갱신 과정은 가상 DOM을 사용하여 이루어진다. 이는 DOM 비교 또는 상태와 뷰의 보정이라고 부르는데 구체적으로는 이미 반영된 뷰와 새로운 뷰의 차이점을 찾아내고 해당 부분만을 수정하는 작업이다. 다른 프레임워크의 경우 jQuery는 갱신 과정을 명령형으로 작성하고(DOM에서 필요한 렌더링을 직접 수정), AngularJS와 같은 프레임워크의 경우 자동으로 뷰를 갱신하다. 이때 양방향 데이터 바인딩이라는 방법으로 뷰와 모델이 서로의 데이터를 통신하고 동기화하는 과정에서 갑자기 다른 뷰에서 모델이 갱신하고 모델이 또 다른 뷰를 건드는 문제가 발생할 수 있다. 또한 JSX가 아닌 템플릿과 ng-if 지시자와 같은 특정 언어에 의존한다는 문제도 있다.
<br/>
ng-if는 다음과 같은 문제를 발생시킨다. 예를 들어 user.session에 따른 다른 값을 노출시켜야 할 때를 가정하면,
<br/>
```
	<a ng-if="user.session" href="/logout">Logout</a>
	<a ng-if="!user.session" href="/login">Login</a>
```
<br/>
이와 같이 작성한다면 겉보기에는 아무런 이상이 없지만, 이것이 ng-if의 값이 문자열인지 bool인지를 알 수 없고, 요소 또한 렌더링의 여부를 잘 알 수 없다.
반면 같은 경우를 React로 작성시 다음과 같다.
<br/>
```
	if(user.session) return React.createElement('a', {href: '/logout'}, 'Logout')
	else return React.createElement('a', {href: '/login'}, 'Login')
```
<br/>
이를 통해 user.session이 문자열이 아닌 boolean임을 명확히 파악할 수 있다.

또한 템플릿 언어의 반복문의 경우 for이 아닌 ng-repeat를 사용하기에 별도의 문법이 세세히 다르다는 단점 또한 순수한 자바스크립트로 사용하기에 별도의 문법을 배울 필요가 없다. 반복문 또한 angular는 $index와 같은 tracking을 위한 인자를 생성하여 사용하는 반면에 React의 경우 map()의 인자를 key로 적용하여 사용한다. 