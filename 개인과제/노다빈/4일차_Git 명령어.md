# Git 명령어

개발자에게 Git은 필수 도구

특히 협업할 때는 작은 실수가 큰 문제로 이어질 수 있습니다.

---

## `git merge`: 브랜치 합치기

`git merge`는 다른 브랜치의 변경 사항을 현재 브랜치로 가져와 합치는 가장 일반적인 방법입니다.

-   **Current Change (HEAD)**: 현재 내가 작업하고 있는 브랜치의 코드
-   **Incoming Change**: 합치려고 하는(merge 하려는) 브랜치의 코드

** 가장 중요한 점!**
만약 merge 과정에서 **충돌(Conflict)**이 발생했다면, 혼자서 해결하려고 하지 말고 **반드시 팀원과 상의해서 해결**해야 합니다.

### **Merge Request (MR) 활용하기**

팀원들과 함께 일한다면, 로컬에서 바로 merge 하기보다는 GitLab, GitHub 등의 플랫폼에서 **Merge Request (MR)** 또는 **Pull Request (PR)**을 생성하는 것이 좋습니다.

-   모든 팀원이 merge 상황을 인지하고 리뷰할 수 있습니다.
-   GitLab과 메신저(ex: Mattermost, Slack)를 연동하면 MR 알림을 받을 수 있어 소통이 원활해집니다.

---

## `git rebase`: 커밋 히스토리 깔끔하게 만들기

`git rebase`는 내 브랜치의 시작점을 최신 메인 브랜치(또는 다른 브랜치)의 끝으로 옮겨주는 명령어입니다. 커밋 히스토리를 한 줄로 깔끔하게 정리할 수 있어 많은 개발자들이 선호합니다.

** 주의사항**
Rebase는 기존 커밋을 새로 만들어 히스토리를 **변경**합니다. 이미 팀원들과 공유된(push된) 브랜치에 rebase를 사용하면 다른 사람의 작업이 꼬일 수 있으므로, **push 하기 전 내 로컬 브랜치에서만 사용**하는 것을 강력히 추천합니다.

---

## `git revert`: 안전하게 커밋 되돌리기

"앗, 방금 push한 커밋에 문제가 있었네!" 와 같은 상황에서 사용하는 명령어입니다.

`git revert`는 특정 커밋의 변경 사항을 **취소하는 새로운 커밋을 생성**합니다. 기존 커밋 히스토리는 그대로 유지되기 때문에 팀원들과 공유된 브랜치에서 작업을 되돌릴 때 비교적 안전합니다.

> **💡 Point!** `revert`는 기록을 삭제하는 것이 아니라, 되돌렸다는 새로운 기록을 남기는 방식입니다.

### **예제**

```bash
# 가장 최근의 커밋(HEAD)을 되돌립니다.
$ git revert HEAD

# 특정 커밋을 해시값으로 지정하여 되돌립니다.
$ git revert [커밋 해시]
```

`revert` 명령어를 실행하면 바로 새로운 커밋이 생성되므로 신중하게 사용해야 합니다. 여러 커밋이 복잡하게 얽혀있다면 100% 안전하지 않을 수도 있습니다.

## `git reset`: 커밋 히스토리 삭제하기 (위험!)
git reset은 커밋 히스토리 자체를 과거로 되돌려 버리는 강력한 명령어입니다. 지정한 커밋 이후의 모든 히스토리가 사라질 수 있습니다.

- `soft`, `mixed`, `hard` 옵션에 따라 동작 방식이 다릅니다.

강력 경고!
`reset`은 커밋 히스토리를 삭제하고 강제로 덮어쓰기 때문에 협업 시 심각한 문제를 일으킬 수 있습니다. 웬만하면 사용하지 말고, 꼭 작업을 되돌려야 한다면 안전한 `revert`를 사용하세요.

## 기타 유용한 명령어
`git status`
현재 브랜치의 상태를 확인하는 가장 기본적인 명령어입니다. 파일을 수정했는지, 커밋할 내용이 있는지 등을 수시로 확인하는 습관을 들이면 좋습니다.
"내가 커밋을 했었나?" 헷갈릴 땐 바로 `git status`를 입력해 보세요!

`git stash`
아직 커밋하기는 애매한데, 다른 브랜치로 잠시 이동해야 할 때가 있죠? `git stash`를 사용하면 현재 작업 내용을 임시 저장하고 워킹 디렉토리를 깨끗하게 만들 수 있습니다.

```Bash
# 현재 작업 내용 임시 저장
$ git stash

# 다른 브랜치에서 작업 후... 다시 돌아와서
# 가장 최근의 stash 내용 가져오고 목록에서 삭제
$ git stash pop
```

`git log --oneline --graph --all`
모든 브랜치의 커밋 히스토리를 한눈에 파악할 수 있는 마법 같은 명령어입니다. 브랜치가 어떻게 나뉘고 합쳐졌는지 시각적으로 보여줘서 전체 흐름을 이해하는 데 큰 도움이 됩니다.

## Git GUI 툴 추천
터미널이 익숙하지 않다면 GUI 툴의 도움을 받는 것도 좋은 방법입니다.

GitHub Desktop
- 장점:
1. UI가 매우 직관적이라 초보자가 사용하기 좋습니다.
2. reset 같은 위험한 명령어가 잘 숨겨져 있어 실수를 방지합니다.
- 단점:
1. 브랜치 구조가 복잡해지면 관리하기 불편합니다.
2. `rebase` 같은 고급 기능을 지원하지 않습니다.

SourceTree
- 장점:
1. 브랜치 히스토리를 시각적으로 보여줘서 흐름을 파악하기 좋습니다.
2. rebase, stash 등 대부분의 고급 기능을 지원합니다.

- 단점:
1. 기능이 많은 만큼 UI가 다소 복잡하게 느껴질 수 있습니다.
2. 강력한 기능들이 쉽게 노출되어 있어 실수할 가능성이 있습니다.

VS Code 확장 프로그램 (GitLens, Git Graph)
- 장점:
1. 코드를 작성하는 VS Code 내에서 바로 Git 작업을 할 수 있어 편리합니다.
2. 코드 변경 사항(Diff)을 확인하고 충돌을 해결하기 간편합니다.
- 단점:
1. 별도의 창이 아니다 보니 복잡한 브랜치 관리에는 한계가 있습니다.
2. 전체 히스토리 흐름을 파악하기는 다소 어려울 수 있습니다.

## 정리하며: 안전한 Git 사용을 위한 3가지 원칙
1. 작업 전엔 `git status!`: 명령어를 입력하기 전에 현재 상태를 먼저 확인하는 습관을 가집시다.
2. 명령어는 한번 더 생각!: 이 명령어가 히스토리를 변경하는지, 팀원에게 영향을 주는지 한 번 더 생각해 보세요.
3. 확실하지 않을 땐 팀원과 상의!: 혼자 고민하지 말고 동료와 함께 해결하는 것이 가장 빠르고 안전한 길입니다.